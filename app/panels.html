<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Panels | RAMP4 Documentation</title>
    <meta name="generator" content="VuePress 1.8.1">
    
    <meta name="description" content="documentation site">
    
    <link rel="preload" href="/ramp4-pcar4/assets/css/0.styles.342c25e1.css" as="style"><link rel="preload" href="/ramp4-pcar4/assets/js/app.ebba11e7.js" as="script"><link rel="preload" href="/ramp4-pcar4/assets/js/2.4ff3b741.js" as="script"><link rel="preload" href="/ramp4-pcar4/assets/js/19.13f5ed78.js" as="script"><link rel="prefetch" href="/ramp4-pcar4/assets/js/10.5e4cf612.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/11.218787cc.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/12.b4de6476.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/13.29b1622c.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/14.04a8dd84.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/15.11435cca.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/16.bca20261.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/17.12d9c0b3.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/18.52725566.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/20.ac1f0338.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/21.07b54cac.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/22.f1026ba4.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/23.c9acab28.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/24.3cfe8e22.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/3.3348aff5.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/4.ec439105.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/5.abd65e2b.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/6.36d4639b.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/7.7943861c.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/8.c59bcb9a.js"><link rel="prefetch" href="/ramp4-pcar4/assets/js/9.da860eed.js">
    <link rel="stylesheet" href="/ramp4-pcar4/assets/css/0.styles.342c25e1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ramp4-pcar4/" class="home-link router-link-active"><!----> <span class="site-name">RAMP4 Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ramp4-pcar4/" class="nav-link">
  Current
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ramp4-pcar4/" class="nav-link">
  Current
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Application</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ramp4-pcar4/app/appbar.html" class="sidebar-link">Appbar</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/appbar.html#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/appbar.html#making-an-appbar-button" class="sidebar-link">Making an appbar button</a></li></ul></li><li><a href="/ramp4-pcar4/app/core-classes.html" class="sidebar-link">Core Class Structures</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/core-classes.html#instanceapi" class="sidebar-link">InstanceAPI</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/core-classes.html#apiscope" class="sidebar-link">APIScope</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/core-classes.html#subcomponentapi" class="sidebar-link">SubcomponentAPI</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/core-classes.html#subcomponentinstance" class="sidebar-link">SubcomponentInstance</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/core-classes.html#isubcomponentinstance" class="sidebar-link">ISubcomponentInstance</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/core-classes.html#fixtures" class="sidebar-link">Fixtures</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/core-classes.html#vue-and-vuex-classes" class="sidebar-link">Vue and Vuex classes</a></li></ul></li><li><a href="/ramp4-pcar4/app/datatable.html" class="sidebar-link">Datatable</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/datatable.html#components" class="sidebar-link">Components</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/datatable.html#controls" class="sidebar-link">Controls</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/datatable.html#global-filter" class="sidebar-link">Global Filter</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/datatable.html#column-filters" class="sidebar-link">Column Filters</a></li></ul></li><li><a href="/ramp4-pcar4/app/defaults.html" class="sidebar-link">Default Setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/defaults.html#default-fixtures" class="sidebar-link">Default Fixtures</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/defaults.html#default-events" class="sidebar-link">Default Events</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/defaults.html#default-events-handlers" class="sidebar-link">Default Events Handlers</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/defaults.html#examples" class="sidebar-link">Examples</a></li></ul></li><li><a href="/ramp4-pcar4/app/details.html" class="sidebar-link">Details Fixture</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/details.html#panels" class="sidebar-link">Panels</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/details.html#creating-a-custom-template" class="sidebar-link">Creating a Custom Template</a></li></ul></li><li><a href="/ramp4-pcar4/app/fixtures.html" class="sidebar-link">Fixtures</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/fixtures.html#lazy-loading" class="sidebar-link">Lazy-Loading</a></li></ul></li><li><a href="/ramp4-pcar4/app/focus-list.html" class="sidebar-link">Focus List</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/focus-list.html#navigating-the-lists" class="sidebar-link">Navigating the lists</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/focus-list.html#basics" class="sidebar-link">Basics</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/focus-list.html#styling" class="sidebar-link">Styling</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/focus-list.html#other-things-of-note" class="sidebar-link">Other things of note</a></li></ul></li><li><a href="/ramp4-pcar4/app/geosearch.html" class="sidebar-link">Geosearch</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/geosearch.html#component-breakdown" class="sidebar-link">Component Breakdown</a></li></ul></li><li><a href="/ramp4-pcar4/app/panels.html" aria-current="page" class="active sidebar-link">Panels</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/panels.html#todo" class="sidebar-link">TODO</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/panels.html#localization" class="sidebar-link">Localization</a></li></ul></li><li><a href="/ramp4-pcar4/app/store.html" class="sidebar-link">The Store</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/store.html#a-store-module" class="sidebar-link">A store module</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/store.html#our-module-setup" class="sidebar-link">Our module setup</a></li><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/store.html#accessing-the-store-from-components" class="sidebar-link">Accessing the store from components</a></li></ul></li><li><a href="/ramp4-pcar4/app/tooltips.html" class="sidebar-link">Tooltips</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ramp4-pcar4/app/tooltips.html#use" class="sidebar-link">Use</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="panels"><a href="#panels" class="header-anchor">#</a> Panels</h1> <h2 id="todo"><a href="#todo" class="header-anchor">#</a> TODO</h2> <p>Write other stuff.</p> <h2 id="localization"><a href="#localization" class="header-anchor">#</a> Localization</h2> <h3 id="core"><a href="#core" class="header-anchor">#</a> Core</h3> <p><a href="https://kazupon.github.io/vue-i18n/" target="_blank" rel="noopener noreferrer">Vue-i18n<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is used to localize the application and the core messages are injected into the RAMP instance when it's first created. All messages are stored in a CSV file of the following format:</p> <table><thead><tr><th>key</th> <th>enValue</th> <th>enValid</th> <th>frValue</th> <th>frValid</th></tr></thead> <tbody><tr><td>lang-native</td> <td>English</td> <td>1</td> <td>Français</td> <td>1</td></tr></tbody></table> <p>First column is the message key that will be used in component templates, and the rest of the file is split into languages sections, two columns per language. The first of these columns specifies a locale value for the message key and the second indicates if the value has been confirmed to be correct or if it's a mere placeholder (1 - valid; 0 - not valid).</p> <p>Right now, only two languages are included, but it's possible to add new languages following the same pattern--adding two columns (<code>xxValue</code> and <code>xxValid</code>) per language where the first two letters are the short, two-letter language code.</p> <h3 id="fixtures"><a href="#fixtures" class="header-anchor">#</a> Fixtures</h3> <p>Fixtures themselves do not require localization, but they <strong>must</strong> provide locale messages to panels, screens, and on-map components it creates. There are several ways to do that.</p> <h4 id="panel-registration-options"><a href="#panel-registration-options" class="header-anchor">#</a> Panel Registration Options</h4> <p>Pass locale messages as part of the <code>PanelRegistrationOptions</code> when registering panels:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// fixture.ts</span>

<span class="token comment">// with a single panel</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$iApi<span class="token punctuation">.</span>panel<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">'panel-one'</span><span class="token punctuation">,</span>
        config<span class="token operator">:</span> <span class="token punctuation">{</span>
            screens<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token operator">...</span><span class="token operator">&gt;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        i18n<span class="token operator">:</span> <span class="token operator">&lt;</span>i18nOptions<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or several panels</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$iApi<span class="token punctuation">.</span>panel<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string">'panel-one'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            screens<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token operator">...</span><span class="token operator">&gt;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'panel-two'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            screens<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token operator">...</span><span class="token operator">&gt;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        i18n<span class="token operator">:</span> <span class="token operator">&lt;</span>i18nOptions<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>i18n</code> options use the following type:</p> <div class="language- extra-class"><pre class="language-text"><code>type I18nComponentOptions = {
    messages?: VueI18n.LocaleMessages;  // https://kazupon.github.io/vue-i18n/guide/messages.html#structure
    dateTimeFormats?: VueI18n.DateTimeFormats;  // https://kazupon.github.io/vue-i18n/guide/datetime.html#datetime-localization
    numberFormats?: VueI18n.NumberFormats;  // https://kazupon.github.io/vue-i18n/guide/number.html#custom-formatting
    sharedMessages?: VueI18n.LocaleMessages;
};
</code></pre></div><p>The above code will merge <code>messages</code>, <code>dateTimeFormats</code> and <code>numberFormats</code> into the corresponding global locales, while the <code>sharedMessages</code> property will be ignored.</p> <blockquote><p><strong>Important:</strong>
Because all values are merged into the global locales, all components--even ones that do not belong to this panel or fixtures--will be able to use these messages. There is a potential for key name collisions.</p> <p>As a rule of thumb, fixture locale keys should be prefixed with the fixture name (or its abbreviation (<code>basemap</code> =&gt; <code>bm</code>) for brevity):</p> <table><thead><tr><th>key</th> <th>enValue</th> <th>enValid</th> <th>frValue</th> <th>frValid</th></tr></thead> <tbody><tr><td>**basemap.**refresh</td> <td>Map refresh required</td> <td>1</td> <td>Actualiser la carte</td> <td>1</td></tr> <tr><td>**basemap.**select</td> <td>Select basemap</td> <td>1</td> <td>Sélectionner la carte de base</td> <td>1</td></tr></tbody></table></blockquote> <h4 id="vue-component-options"><a href="#vue-component-options" class="header-anchor">#</a> Vue Component Options</h4> <p>Additionally, it's possible to provide locale messages directly to the screen component as follows:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// screen-component.vue</span>
@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    i18n<span class="token operator">:</span> <span class="token punctuation">{</span>
        messages<span class="token operator">:</span> <span class="token punctuation">{</span>
            en<span class="token operator">:</span> <span class="token punctuation">{</span>
                hello<span class="token operator">:</span> <span class="token string">'world'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>The above requires hardcoding locale string into the component file. If using a CSV file, <code>ramp-locale-loader</code> will fold the CSV content into the <code>VueI18n.LocaleMessages</code> form automatically (the file name needs to end in <code>lang.csv</code>):</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// screen-component.vue</span>
<span class="token keyword">import</span> messages <span class="token keyword">from</span> <span class="token string">'./lang.csv'</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    i18n<span class="token operator">:</span> <span class="token punctuation">{</span>
        messages
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>The above approach can be used in the core fixtures and in external fixtures compiled with webpack given that <code>ramp-locale-loader</code> package is used. For all other cases, it's responsibility of the fixture to format their locale messages appropriately as <code>VueI18n.LocaleMessages</code>.</p> <p>If two methods of passing locale messages are used, more specific <code>i18n</code> options take precedence:</p> <ul><li>component file options</li> <li>common panel registration options</li></ul> <p>If the string key cannot be found there, <code>i18n</code> falls back to the core strings, so it's possible to use any of the common core strings in any screen components without specifying any locale messages at all.</p> <h3 id="non-fixture-components"><a href="#non-fixture-components" class="header-anchor">#</a> Non-Fixture Components</h3> <p>A fixture is not required for registering panels or creating on-map components--this can be done directly on the RAMP API. The ways of providing localization in such cases are exactly the same as when using a fixture.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ramp4-pcar4/app/geosearch.html" class="prev">
        Geosearch
      </a></span> <span class="next"><a href="/ramp4-pcar4/app/store.html">
        The Store
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ramp4-pcar4/assets/js/app.ebba11e7.js" defer></script><script src="/ramp4-pcar4/assets/js/2.4ff3b741.js" defer></script><script src="/ramp4-pcar4/assets/js/19.13f5ed78.js" defer></script>
  </body>
</html>
